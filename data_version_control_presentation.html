<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Mainye B">

<title>Data Version Control</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="data_version_control_presentation_files/libs/clipboard/clipboard.min.js"></script>
<script src="data_version_control_presentation_files/libs/quarto-html/quarto.js"></script>
<script src="data_version_control_presentation_files/libs/quarto-html/popper.min.js"></script>
<script src="data_version_control_presentation_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="data_version_control_presentation_files/libs/quarto-html/anchor.min.js"></script>
<link href="data_version_control_presentation_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="data_version_control_presentation_files/libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="data_version_control_presentation_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="data_version_control_presentation_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="data_version_control_presentation_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#what-is-it" id="toc-what-is-it" class="nav-link active" data-scroll-target="#what-is-it"><span class="toc-section-number">1</span>  What is it?</a></li>
  <li><a href="#why-is-it-important" id="toc-why-is-it-important" class="nav-link" data-scroll-target="#why-is-it-important"><span class="toc-section-number">2</span>  Why is it important?</a>
  <ul class="collapse">
  <li><a href="#needs" id="toc-needs" class="nav-link" data-scroll-target="#needs"><span class="toc-section-number">2.1</span>  Needs</a>
  <ul class="collapse">
  <li><a href="#examples" id="toc-examples" class="nav-link" data-scroll-target="#examples"><span class="toc-section-number">2.1.1</span>  Examples</a></li>
  <li><a href="#data-science-process" id="toc-data-science-process" class="nav-link" data-scroll-target="#data-science-process"><span class="toc-section-number">2.1.2</span>  Data science process</a></li>
  </ul></li>
  <li><a href="#try-something-different-with-dvc-and-makefiles" id="toc-try-something-different-with-dvc-and-makefiles" class="nav-link" data-scroll-target="#try-something-different-with-dvc-and-makefiles"><span class="toc-section-number">2.2</span>  Try something different with DVC and Makefiles</a>
  <ul class="collapse">
  <li><a href="#makefile" id="toc-makefile" class="nav-link" data-scroll-target="#makefile"><span class="toc-section-number">2.2.1</span>  Makefile</a></li>
  <li><a href="#using-a-makefile-for-machine-learning-workflow" id="toc-using-a-makefile-for-machine-learning-workflow" class="nav-link" data-scroll-target="#using-a-makefile-for-machine-learning-workflow"><span class="toc-section-number">2.2.2</span>  Using a Makefile for Machine Learning Workflow</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data Version Control</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Mainye B </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="what-is-it" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> What is it?</h1>
<p>Data version control is way of making a reproducible journal to replicate your data science workflow. Imagine when you are working with teams everyone has their own way of doing things but how can we make a consensus to have unified way of working together so that you don’t step on each others toes. On the other hand, is there a way of managing data science projects a bit easier to be able to track project a bit better? We will discuss that in this presentation.</p>
<p>They are several tools that have been created to address this problem. They include the following:</p>
<ul>
<li><a href="https://dvc.org/">DVC</a></li>
<li><a href="https://mlflow.org/">Mlflow</a></li>
<li><a href="https://neptune.ai/">Neptuneai</a></li>
<li><a href="https://delta.io/">Delta Lake</a></li>
<li><a href="https://metaflow.org/">Metaflow</a></li>
</ul>
<div class="callout callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>We’ll go through DVC, great expectations and Makefiles</p>
</div>
</div>
</div>
</section>
<section id="why-is-it-important" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Why is it important?</h1>
<p>As someone who has worked on various projects in data science and machine learning. I have discovered that the path from idea to product needs a fricitionless workflow this will allow you to think about implementing ideas than handling all that goes on in the background.</p>
<p>It is important mostly because it can get very confusing when handling projects and keeping track of your experiments since in data science we don’t have predefined outputs. We can make a report, dashboard, an application and API. They are so many things that go into that data importing, EDA, feature engineering and modeling which can take so many routes to reach your destination.</p>
<blockquote class="blockquote">
<p>add image of a winding path</p>
</blockquote>
<section id="needs" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="needs"><span class="header-section-number">2.1</span> Needs</h2>
<ul>
<li>How can we track different parts of work?</li>
<li>How can we record hyperparameters in different versions of our experiments?</li>
<li>How about storing metadata of our projects like models and slices of data?</li>
<li>How about metrics how can those be put together in a more unified way?</li>
<li>Can I replicate their work 100% or 95%?</li>
</ul>
<blockquote class="blockquote">
<p>All the solutions above can help us with that.</p>
</blockquote>
<section id="examples" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="examples"><span class="header-section-number">2.1.1</span> Examples</h3>
<div class="callout-important callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong><a href="https://www.kaggle.com/datasets/mirichoi0218/insurance">Medical Cost Personal Datasets</a></strong></p>
</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong><a href="https://www.kaggle.com/datasets/blastchar/telco-customer-churn">Telco dataset</a></strong></p>
</div>
</div>
<p>The dataset has a number of observations and measurements that a crucial for a prediction task which is finding churn. That is, the likelihood that a client will stop using the telecommunications company. That is, if you are looking at the second dataset.</p>
<p>Other very common metrics that you can be asked to calculate in the data science team include:</p>
<table class="table">
<colgroup>
<col style="width: 40%">
<col style="width: 27%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th>Metric</th>
<th style="text-align: left;">Explanation</th>
<th style="text-align: right;">Associated link</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Hypothesis testing</td>
<td style="text-align: left;">Making the website better via focus group testing.</td>
<td style="text-align: right;">https://medium.com/<span class="citation" data-cites="gajendra.k.s/hypothesis-testing-33aaeeff5336">@gajendra.k.s/hypothesis-testing-33aaeeff5336</span></td>
</tr>
<tr class="even">
<td>Conversion rate</td>
<td style="text-align: left;">time it takes for a client to move from discovery to becoming a paying customer.</td>
<td style="text-align: right;">https://www.geeksforgeeks.org/conversion-rate-what-is-it-how-to-calculate-it/</td>
</tr>
<tr class="odd">
<td>Customer life time value (LTV)</td>
<td style="text-align: left;">how much a client(s) will generate in their lifetime.</td>
<td style="text-align: right;">https://www.datacamp.com/tutorial/customer-life-time-value</td>
</tr>
<tr class="even">
<td>Recommendation systems</td>
<td style="text-align: left;">how can we sell cross sell our existing products better</td>
<td style="text-align: right;">https://medium.com/<span class="citation" data-cites="Karthickk_Rajah/clustering-based-algorithms-in-recommendation-system-205fcb15bc9b">@Karthickk_Rajah/clustering-based-algorithms-in-recommendation-system-205fcb15bc9b</span></td>
</tr>
<tr class="odd">
<td>Optimization</td>
<td style="text-align: left;">adjusting cost of product this involves using specific techniques to find the maximum or minimum value of something to reap better revenues</td>
<td style="text-align: right;">https://towardsdatascience.com/production-fixed-horizon-planning-with-python-8dd38b468e86</td>
</tr>
</tbody>
</table>
</section>
<section id="data-science-process" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="data-science-process"><span class="header-section-number">2.1.2</span> Data science process</h3>
<p>We will be referencing a cool notebook that someone in the kaggle community had done. Here’s the original <a href="https://www.kaggle.com/code/hely333/eda-regression">notebook</a>.</p>
<p>The person did are really cool job. However, I wish more one hot encoding was done and exploring techniques such as OneR were done. We’ll explore that later. At the moment, let’s set out attention to the data science process. Add a more detail from the wiki and the book below.</p>
<div id="fig-datasci" class="quarto-layout-panel">
<figure class="figure">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-figure quarto-figure-center" style="flex-basis: 50.0%;justify-content: center;">
<figure class="figure">
<p><a href="https://www.manning.com/books/data-science-with-python-and-dask" id="fig-process"><img src="Screenshot%20from%202023-02-13-10-57-10.png" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">Data science process</figcaption><p></p>
</figure>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Screenshot%20from%202023-02-13-10-57-41.png" class="img-fluid figure-img" width="100"></p>
<p></p><figcaption class="figure-caption">Transforming-data</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p></p><figcaption class="figure-caption">Figure&nbsp;1: What is done in data science</figcaption><p></p>
</figure>
</div>
<p>Often times you can easily just make a notebook, and your work is done. They are tools that allow you to do <a href="https://www.kaggle.com/discussions/getting-started/293861">scheduled notebook reruns</a> on kaggle, using <a href="https://papermill.readthedocs.io/en/latest/">papermill</a> and <a href="https://towardsdatascience.com/how-to-schedule-jupyter-notebooks-in-amazon-sagemaker-d50fa1c8c0ad">Sagemaker</a>.</p>
</section>
</section>
<section id="try-something-different-with-dvc-and-makefiles" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="try-something-different-with-dvc-and-makefiles"><span class="header-section-number">2.2</span> Try something different with DVC and Makefiles</h2>
<section id="makefile" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="makefile"><span class="header-section-number">2.2.1</span> Makefile</h3>
<p>In most Unix systems (Mac Os and Linux) you’ll find that the <code>make</code> command is already installed. If not it very easy to install it.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>How to install</p>
<pre class="{bash}"><code># update packages
sudo apt-get update
# just say yes to make
sudo apt-get -y install make
# what version was installed
make -v</code></pre>
</div>
</div>
<p>Using these files makes it easy to hide the complexity of running commands that you require to follow best practices as an example:</p>
<blockquote class="blockquote">
<p>Running in bash</p>
</blockquote>
<pre class="{bash}"><code>#| echo: false

# This code runs the pylint tool with specific configurations to check for errors in Python files.
# The `--disable=R,C` flag disables the pylint checks for code style and convention violations.
# The `--errors-only` flag ensures that only error messages are displayed.
# The `*.py utils/*.py testing/*.py` argument specifies the files and directories to be checked by pylint.
pylint --disable=R,C --errors-only *.py utils/*.py testing/*.py</code></pre>
<p>Code Linting Linting is crucial for maintaining high-quality code. It helps catch errors and inconsistencies early on, reducing bugs and improving readability.</p>
<p>Why Lint?</p>
<ul>
<li>Reduced bugs: Catch errors before runtime.</li>
<li>Improved readability: Enforce consistent coding standards.</li>
<li>Faster development: Identify issues quickly.</li>
</ul>
<blockquote class="blockquote">
<p>Within your Makefile</p>
</blockquote>
<pre class="{bash}"><code>#| echo: false
lint: activate install format
    # flake8 or #pylint
    pylint --disable=R,C --errors-only *.py utils/*.py testing/*.py</code></pre>
<blockquote class="blockquote">
<p>In Terminal</p>
</blockquote>
<pre class="{bash}"><code>#| echo: false
make lint</code></pre>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Instead of memorizing long commands you can store them in a Makefile and run them in a single command for example <code>make all</code> will run each command until the end of the file. Also, <a href="https://www.youtube.com/watch?v=2wSBAkJGcug">Continous Integration/Continous Deployment</a></p>
</div>
</div>
</section>
<section id="using-a-makefile-for-machine-learning-workflow" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="using-a-makefile-for-machine-learning-workflow"><span class="header-section-number">2.2.2</span> Using a Makefile for Machine Learning Workflow</h3>
<p>At this juncture, you are probably acknowledging how much a Makefile is a . Get this you can use it with any language you prefer for data science and machine learning. Here are more <a href="https://gist.github.com/Shuyib/ae87774fd82c69706803725db9a681dc">examples in Julia and R</a></p>
<p>Let create a Makefile to assist us with <strong>Making</strong> a machine learning workflow to help us handle the project better.</p>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>